const e={play:document.getElementById("play"),clear:document.getElementById("clear"),sound:document.getElementById("sound")},n=.2,l={nature:document.getElementById("audioPlayer"),fire:document.getElementById("fireAudioPlayer")},t={dimension:window.innerWidth>414?18:12,interval:null,cells:{},playing:!1,isClear:!0},a=e=>{const a=(e=>{if(!e)return 0;const n=e+100,l=n?n/(2*t.dimension)*.1:0;return l>.6?.6:l})(e),o=(e=>e?.6-e+n:.4)(a);l.fire.volume=a,l.nature.volume=o},o=e=>{let n,l=0;for(const a in e){const o=t.cells[a],s=e[a],d="dead"===s;d||o===s?d&&(n=document.getElementById(a),n.className=s,"dead"===o?(n.classList.remove("dying"),n.classList.add("gone")):(n.classList.add("dying"),l++)):(n=document.getElementById(a),n.className=s,"alive"===s&&n.classList.add(["bloom1","bloom2","bloom3","bloom4","bloom5"][Math.floor(6*Math.random())])),t.cells[a]=s}a(l)},s=e=>{const n=e.split("-"),l=(e=>e.filter((e=>"alive"===t.cells[e])))(((e,n)=>{let l=[];for(let a=e-1;a<=e+1;a++)for(let o=n-1;o<=n+1;o++)a>=0&&o>=0&&a<t.dimension&&o<t.dimension&&(o!==e||a!==n)&&l.push(`${a}-${o}`);return l})(+n[0],+n[1])).length,a=t.cells[e];let o=a;return"alive"===a?(l<2||l>3)&&(o="dead"):3===l&&(o="alive"),o},d=()=>{const e={...t.cells};for(const n in t.cells){const l=s(n);e[n]=l}o(e)},i=e=>{const n=e.split("-"),l=+n[0],t=+n[1];return Math.floor((l+t)*Math.random())%4==0?"alive":"dormant"},r=()=>{if(t.playing)clearInterval(t.interval),e.play.innerHTML="Play",t.playing=!1,t.interval=null;else{const n={...t.cells};for(const e in n)n[e]=t.isClear?i(e):s(e);o(n),e.play.innerHTML="Pause",t.playing=!0,t.isClear=!1,t.interval=setInterval(d,2200)}},c=()=>{const a={...t.cells};for(const e in a)a[e]="dormant";o(a),clearInterval(t.interval),l.nature.volume=n,l.fire.volume=0,e.play.innerHTML="Play",t.playing=!1,t.isClear=!0,t.interval=null};let m=!1;const u=()=>{e.play.addEventListener("click",(()=>r())),e.clear.addEventListener("click",(()=>c())),e.sound.addEventListener("click",(()=>{m?(l.nature.pause(),l.fire.pause(),e.sound.classList.add("off"),e.sound.setAttribute("aria-label","sound on"),m=!1):(l.nature.play(),l.fire.play(),e.sound.classList.remove("off"),e.sound.setAttribute("aria-label","sound off"),m=!0)}))},y=()=>{l.nature.volume=n,l.fire.volume=0,u(),(()=>{console.log("boardState: ",t);const e=document.getElementById("board");for(let n=0;n<t.dimension;n++){const l=document.createElement("div");l.className="row",l.id=n,e.appendChild(l);for(let e=0;e<t.dimension;e++){const a=`${n}-${e}`;t.cells[a]="dormant";const o=document.createElement("div");o.id=a,o.classList.add("dormant"),l.appendChild(o)}}})()};"loading"===document.readyState?document.onDOMContentLoaded=()=>y():y();
//# sourceMappingURL=index.d9c6b36f.js.map
