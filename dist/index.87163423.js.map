{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,oT,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,W,MCA5FC,EAAiB,IAAAN,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,W,MCA5FE,EAAiB,IAAAP,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,W,MCA5FG,EAAiB,IAAAR,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,W,MCA5FI,EAAiB,IAAAT,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WCOrF,MAAMK,EAAOC,SAASC,eAAe,QAE/BC,GADSF,SAASC,eAAe,UACzBD,SAASC,eAAe,gBAChCE,EAAYH,SAASC,eAAe,mBAGpCG,EAAaJ,SAASC,eAAe,QACrCI,EAAcL,SAASC,eAAe,SACtCK,EAAcN,SAASC,eAAe,SAGtCM,EAAS,CAACC,EAAApB,GAAQoB,EAAAb,GAAQa,EAAAZ,GAAQY,EAAAX,GAAQW,EAAAV,IAG1CW,EAAa,CACzBC,MAAO,GACPC,OAAQ,GACRC,SAAU,KACVC,MAAO,CAAC,EACRC,SAAS,EACTC,WAAW,GCzBZ,IAAIC,EAAYP,EAAWM,UAG3B,MA2BaE,EAAY,KACxB,MAAMC,EAAaT,EAAWC,MAAQD,EAAWE,OACjD,IACIQ,EAxBkB,MACtB,IAAIC,EAAY,EACZP,EAAQJ,EAAWI,MACvB,IAAK,IAAIQ,KAAQR,EACI,SAAhBA,EAAMQ,IACTD,IAGF,OAbc,KADeE,EAcDF,GAbJE,EACZA,EAAS,GAFO,IAACA,CAcD,EAeZC,GACaL,EAC7Bf,EAAUqB,OAASL,EACnBjB,EAAMsB,OAdiB,CAACL,GACnBH,EAIG,EAAIG,GAHXH,GAAY,EACL,IAWOS,CAAgBN,EAAA,ECjC1BO,EAAU,CAACC,EAAKC,KACrB,IAAIC,EAAU7B,SAASC,eAAe,GAAG2B,KAAOD,KAChD,OAAKE,GACLA,EAAQC,OAASF,EACjBC,EAAQE,OAASJ,EACVE,GAHc,IAGd,EAIKG,EAAeC,IAC3B,IAAK,IAAIL,EAAM,EAAGA,EAAMnB,EAAWC,MAAOkB,IACzC,IAAK,IAAID,EAAM,EAAGA,EAAMlB,EAAWE,OAAQgB,IAAO,CAEjDM,EADcP,EAAQC,EAAKC,GACLD,EAAKC,EAC5B,GAkCIM,EAAe,CAACb,EAAMM,EAAKC,KAChC,IAAIO,EA9BmB,EAACd,EAAMM,EAAKC,KACnC,IAAIQ,EAAc,GAClB,IAAK,IAAIzD,EAAIiD,EAAM,EAAGjD,GAAKiD,EAAM,EAAGjD,IACnC,IAAK,IAAI0D,EAAIV,EAAM,EAAGU,GAAKV,EAAM,EAAGU,IACnC,IAAI1D,IAAMiD,GAAOS,IAAMV,IAClBhD,GAAI,GAAM0D,GAAI,EAAI,CACrB,IAAIC,EAAa3D,EAAI,IAAM0D,EACvBC,GAAYF,EAAYG,KAAKD,EAClC,CAIH,OAAOF,CAAA,EAkBYI,CAAgBnB,EAAMM,EAAKC,GAE1Ca,EAhBsB,CAACL,IAC3B,IAAIK,EAAgB,EAQpB,OAPAL,EAAYM,KAAI7D,GACRmB,SAASC,eAAepB,KAC7B8D,SAAQC,IACNA,GAAYA,EAASC,UAAUC,SAAS,UAC3CL,GAAA,IAGKA,CAAA,EAOaM,CAAmBZ,GAEnCa,EAAS3B,EAAKwB,UAElB,OAAIG,EAAOF,SAAS,SACfL,EAAgB,GAAKA,EAAgB,EAAU,OACvCO,EAEU,IAAlBP,EAA4B,QACpB,SACb,EAIKQ,EAAW,KAChB,IAAIC,EAAMC,KAAKC,MAAsB,EAAhBD,KAAKE,UAC1B,OAAO9C,EAAO2C,EAAI,EAINI,EAAgBC,IAC5B,IAAK,IAAIC,KAAUD,EAClB,GAAIA,EAAeE,eAAeD,GAAS,CAC1C,IAAIE,EAAgBH,EAAeC,GACnC/C,EAAWI,MAAM2C,GAAUE,EAC3B,IAAIrC,EAAOrB,SAASC,eAAeuD,GACnCnC,EAAKsC,UAAYD,EACM,UAAnBrC,EAAKsC,YACRtC,EAAKuC,cAAc,OAAOC,IAAMZ,IAElC,CAEDhC,GAAQ,EAII6C,EAAO,KACnB,IAAIP,EAAiB7E,OAAOqF,OAAO,CAAC,EAAGtD,EAAWI,OAClDmB,GAAY,CAACX,EAAMM,EAAKC,KACvB2B,EAAe,GAAG3B,KAAOD,KAASO,EAAab,EAAMM,EAAKC,EAAA,IAG3D0B,EAAaC,EAAA,EC7FDS,EAAa,KACzB,GAAKvD,EAAWK,QAcfmD,cAAcxD,EAAWG,UACzBH,EAAWG,SAAW,KACtBR,EAAW8D,UAAY,OACvBzD,EAAWK,SAAU,MAjBG,CACxB,IAAIyC,EAAiB7E,OAAOqF,OAAO,CAAC,EAAGtD,EAAWI,OAElDmB,GAAY,CAACX,EAAMM,EAAKC,KACnBuB,KAAKC,OAAOzB,EAAMC,GAAOuB,KAAKE,UAAY,GAAM,IACnDE,EAAe,GAAG3B,KAAOD,KAAS,YAGpC2B,EAAaC,GAEbnD,EAAW8D,UAAY,QACvBzD,EAAWK,SAAU,EACrBL,EAAWG,SAAWuD,YAAYL,EHaV,IGZzB,CAMA,EAIYM,EAAa,KACzB,IAAIb,EAAiB7E,OAAOqF,OAAO,CAAC,EAAGtD,EAAWI,OAElDmB,GAAY,CAACX,EAAMM,EAAKC,KACvB2B,EAAe,GAAG3B,KAAOD,KAAS,aAGnC2B,EAAaC,GACbU,cAAcxD,EAAWG,UACzBH,EAAWG,SAAW,KACtBH,EAAWK,SAAU,EACrBV,EAAW8D,UAAY,OAEvBhE,EAAMsB,OAAS,GACff,EAAWM,WAAY,CAAK,EAI7B,IAAIsD,GAAU,EACP,MC3CDC,EAAqB,KAE1BlE,EAAWmE,iBAAiB,SAAS,IAAMP,MAE3C3D,EAAYkE,iBAAiB,SAAS,IAAMH,MAE5C9D,EAAY4D,UAAY,QACxB5D,EAAYiE,iBAAiB,SAAS,KDqClCF,GACHnE,EAAMsE,QACNrE,EAAUqE,QACVlE,EAAYqD,UAAY,eACxBU,GAAU,IAEVnE,EAAMuE,OACNtE,EAAUsE,OACVnE,EAAYqD,UAAY,KACxBU,GAAU,EC9C2C,KAK5B,MAC1B,MAAMK,EAAQ1E,SAAS2E,cAAc,SACrC5E,EAAK6E,YAAYF,GAEjB,IAAK,IAAI/F,EAAI,EAAGA,EAAI8B,EAAWC,MAAO/B,IAAK,CAC1C,IAAIgD,EAAM3B,SAAS2E,cAAc,MACjCD,EAAME,YAAYjD,GAElB,IAAK,IAAIU,EAAI,EAAGA,EAAI5B,EAAWE,OAAQ0B,IAAK,CAC3C5B,EAAWI,MAAM,GAAGlC,KAAK0D,KAAO,UAChC,IAAIhB,EAAOrB,SAAS2E,cAAc,MAC9BE,EAAM7E,SAAS2E,cAAc,OACjCtD,EAAKxC,GAAK,GAAGF,KAAK0D,IAClBhB,EAAKsC,UAAY,UACjBtC,EAAKuD,YAAYC,GACjBlD,EAAIiD,YAAYvD,EACjB,CACD,CAEAnB,EAAMsB,OAAS,GACfrB,EAAUqB,OAAS,EACnB8C,GAAA,EAGDQ","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-58654a101dcb5c15.js","node_modules/@parcel/runtime-js/lib/runtime-eecb3529be6add48.js","node_modules/@parcel/runtime-js/lib/runtime-9789c9154a0515d9.js","node_modules/@parcel/runtime-js/lib/runtime-9a0ccb09c1a882bb.js","node_modules/@parcel/runtime-js/lib/runtime-057a10b7c078c06d.js","node_modules/@parcel/runtime-js/lib/runtime-39687e44fbfb3671.js","src/modules/constants.js","src/modules/soundUtils.js","src/modules/game.js","src/modules/buttonEvents.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9vqfN\\\":\\\"index.87163423.js\\\",\\\"2M7TJ\\\":\\\"bloom-1-1x.febed305.gif\\\",\\\"hfy9H\\\":\\\"bloom-2-1x.306acb87.gif\\\",\\\"bmNnK\\\":\\\"bloom-3-1x.7f5cc346.gif\\\",\\\"4LUYw\\\":\\\"bloom-4-1x.c4ae85af.gif\\\",\\\"5jKE5\\\":\\\"bloom-5-72px.db436b77.gif\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2M7TJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hfy9H\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bmNnK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4LUYw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5jKE5\")).toString();","import bloom1 from '../images/bloom-1-1x.gif';\nimport bloom2 from '../images/bloom-2-1x.gif';\nimport bloom3 from '../images/bloom-3-1x.gif';\nimport bloom4 from '../images/bloom-4-1x.gif';\nimport bloom5 from '../images/bloom-5-72px.gif';\n\n// -- DOM Elements --\nexport const main = document.getElementById('main');\nexport const canvas = document.getElementById('canvas');\nexport const audio = document.getElementById('audioPlayer');\nexport const fireAudio = document.getElementById('fireAudioPlayer');\n\n// -- Buttons --\nexport const playButton = document.getElementById('play');\nexport const clearButton = document.getElementById('clear');\nexport const soundButton = document.getElementById('sound');\n\n// -- Cell Background Images --\nexport const blooms = [bloom1, bloom2, bloom3, bloom4, bloom5];\n\n// -- Board Properties --\nexport const boardState = {\n\twidth: 18,\n\theight: 18,\n\tinterval: null,\n\tcells: {},\n\tplaying: false,\n\tfirstPlay: false\n};\n\nexport const intervalMs = 4000;\n","import { audio, fireAudio, boardState } from './constants';\n\nlet firstPlay = boardState.firstPlay;\n\n// volume adjustment to make fireAudio louder\nconst adjustCountForVolume = (count) => {\n\tif (count === 0) return count\n\telse return count += 70\n}\n\n// count dead cells\nconst countDeadCells = () => {\n\tlet deadCells = 0;\n\tlet cells = boardState.cells\n\tfor (var cell in cells) {\n\t\tif (cells[cell] === 'dead') {\n\t\t\tdeadCells++\n\t\t}\n\t}\n\treturn adjustCountForVolume(deadCells)\n}\n\n// adjust for first play\nconst firstPlayAdjust = (fireVolume) => {\n\tif (!firstPlay) {\n\t\tfirstPlay = true;\n\t\treturn 0.5\n\t} else {\n\t\treturn 1 - fireVolume;\n\t}\n}\n\nexport const setVolume = () => {\n\tconst totalCells = boardState.width * boardState.height;\n\tlet deadCells = countDeadCells()\n\tlet fireVolume = deadCells / totalCells\n\tfireAudio.volume = fireVolume\n\taudio.volume = firstPlayAdjust(fireVolume)\n}\n","import { blooms, boardState } from './constants';\nimport { setVolume } from './soundUtils';\n\n// Get individual cell from document\nconst getCell = (row, col) => {\n\tlet theCell = document.getElementById(`${col}-${row}`);\n\tif (!theCell) return null\n\ttheCell.xCoord = col;\n\ttheCell.yCoord = row;\n\treturn theCell\n};\n\n// Execute iterator function on each cell\nexport const forEachCell = (iteratorFunc) => {\n\tfor (let col = 0; col < boardState.width; col++) {\n\t\tfor (let row = 0; row < boardState.height; row++) {\n\t\t\tlet theCell = getCell(row, col)\n\t\t\titeratorFunc(theCell, row, col)\n\t\t}\n\t}\n};\n\n// Get neighboring cells for a single cell\nconst getNeighborhood = (cell, row, col) => {\n\tlet neighborIds = [];\n\tfor (let i = col - 1; i <= col + 1; i++) {\n\t\tfor (let j = row - 1; j <= row + 1; j++) {\n\t\t\tif (i !== col || j !== row) {\n\t\t\t\tif (i > -1 && j > -1) {\n\t\t\t\t\tlet neighborId = i + '-' + j;\n\t\t\t\t\tif (neighborId) neighborIds.push(neighborId)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn neighborIds;\n};\n\n// Get number of living neighbors for a single cell\nconst countLiveNeighbors = (neighborIds) => {\n\tlet liveNeighbors = 0\n\tneighborIds.map(id => {\n\t\treturn document.getElementById(id)\n\t}).forEach(neighbor => {\n\t\tif (neighbor && neighbor.classList.contains('alive')) {\n\t\t\tliveNeighbors++\n\t\t}\n\t})\n\treturn liveNeighbors;\n};\n\n// Determine next state for a single cell, based on numbr of live neighbors\nconst getNextState = (cell, row, col) => {\n\tlet neighborhood = getNeighborhood(cell, row, col);\n\n\tlet liveNeighbors = countLiveNeighbors(neighborhood);\n\n\tlet status = cell.classList;\n\n\tif (status.contains('alive')) {\n\t\tif (liveNeighbors < 2 || liveNeighbors > 3) return 'dead';\n\t\telse return status\n\t} else {\n\t\tif (liveNeighbors === 3) return 'alive';\n\t\telse return 'dormant'\n\t}\n};\n\n// Set new bloom gif for each live cell\nconst getBloom = () => {\n\tlet idx = Math.floor(Math.random() * 5)\n\treturn blooms[idx]\n}\n\n// Set next state for the entire board\nexport const setNextState = (nextBoardState) => {\n\tfor (let cellId in nextBoardState) {\n\t\tif (nextBoardState.hasOwnProperty(cellId)) {\n\t\t\tlet nextCellState = nextBoardState[cellId]\n\t\t\tboardState.cells[cellId] = nextCellState\n\t\t\tlet cell = document.getElementById(cellId)\n\t\t\tcell.className = nextCellState\n\t\t\tif (cell.className === 'alive') {\n\t\t\t\tcell.querySelector('img').src = getBloom();\n\t\t\t}\n\t\t}\n\t}\n\tsetVolume()\n};\n\n// Step is a single iteration of the game\nexport const step = () => {\n\tlet nextBoardState = Object.assign({}, boardState.cells)\n\tforEachCell((cell, row, col) => {\n\t\tnextBoardState[`${col}-${row}`] = getNextState(cell, row, col)\n\t})\n\n\tsetNextState(nextBoardState);\n};\n\n","import { audio, intervalMs, fireAudio, playButton, soundButton, boardState } from './constants';\nimport { forEachCell, setNextState, step } from './game';\n\n// Start game play\nexport const togglePlay = () => {\n\tif (!boardState.playing) {\n\t\tlet nextBoardState = Object.assign({}, boardState.cells)\n\n\t\tforEachCell((cell, row, col) => {\n\t\t\tif (Math.floor((row + col) * Math.random()) % 5 === 0) {\n\t\t\t\tnextBoardState[`${col}-${row}`] = 'alive'\n\t\t\t}\n\t\t})\n\t\tsetNextState(nextBoardState)\n\n\t\tplayButton.innerHTML = 'Pause'\n\t\tboardState.playing = true;\n\t\tboardState.interval = setInterval(step, intervalMs)\n\t} else {\n\t\tclearInterval(boardState.interval);\n\t\tboardState.interval = null;\n\t\tplayButton.innerHTML = 'Play'\n\t\tboardState.playing = false;\n\n\t}\n};\n\n// Clear board\nexport const clearBoard = () => {\n\tlet nextBoardState = Object.assign({}, boardState.cells);\n\n\tforEachCell((cell, row, col) => {\n\t\tnextBoardState[`${col}-${row}`] = 'dormant'\n\t});\n\n\tsetNextState(nextBoardState);\n\tclearInterval(boardState.interval)\n\tboardState.interval = null;\n\tboardState.playing = false;\n\tplayButton.innerHTML = 'Play'\n\n\taudio.volume = 0.3;\n\tboardState.firstPlay = false;\n};\n\n// Toggle Audio\nlet soundOn = true;\nexport const toggleSound = () => {\n\tif (soundOn) {\n\t\taudio.pause();\n\t\tfireAudio.pause();\n\t\tsoundButton.className = 'line-through';\n\t\tsoundOn = false;\n\t} else {\n\t\taudio.play();\n\t\tfireAudio.play();\n\t\tsoundButton.className = null;\n\t\tsoundOn = true;\n\t}\n};\n","import { main, audio, fireAudio, playButton, clearButton, soundButton, boardState } from './modules/constants';\nimport { togglePlay, clearBoard, toggleSound } from './modules/buttonEvents.js'\n\n// -- Buttons --\nconst createButtonEvents = () => {\n\n\tplayButton.addEventListener('click', () => togglePlay());\n\n\tclearButton.addEventListener('click', () => clearBoard());\n\n\tsoundButton.innerHTML = 'Sound';\n\tsoundButton.addEventListener('click', () => toggleSound());\n}\n\n\n// -- Initital Board Set-Up --\nconst createAndShowBoard = () => {\n\tconst board = document.createElement('tbody');\n\tmain.appendChild(board);\n\n\tfor (let i = 0; i < boardState.width; i++) {\n\t\tlet row = document.createElement('tr');\n\t\tboard.appendChild(row);\n\n\t\tfor (let j = 0; j < boardState.height; j++) {\n\t\t\tboardState.cells[`${i}-${j}`] = 'dormant'\n\t\t\tlet cell = document.createElement('td');\n\t\t\tlet img = document.createElement('img');\n\t\t\tcell.id = `${i}-${j}`\n\t\t\tcell.className = 'dormant'\n\t\t\tcell.appendChild(img);\n\t\t\trow.appendChild(cell);\n\t\t}\n\t}\n\t// set initial fire volume to zero before game play\n\taudio.volume = 0.3;\n\tfireAudio.volume = 0;\n\tcreateButtonEvents()\n}\n\ncreateAndShowBoard();\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$fceb4dc7d38fcc4a$exports","URL","resolve","import","meta","url","toString","$99de808b66a12583$exports","$8c0dc67eacd45c96$exports","$5755888be7241277$exports","$1f1d55ac1d688098$exports","$45af14c00f07ca1e$export$f22da7240b7add18","document","getElementById","$45af14c00f07ca1e$export$592b77e6034db746","$45af14c00f07ca1e$export$2bc75eef6c1fcf23","$45af14c00f07ca1e$export$73e4574fc43cf3a2","$45af14c00f07ca1e$export$52aab205873de00","$45af14c00f07ca1e$export$1c8774b7a39851e7","$45af14c00f07ca1e$export$aad344b54aa4bfdb","$parcel$interopDefault","$45af14c00f07ca1e$export$246a965c0e47c1d7","width","height","interval","cells","playing","firstPlay","$0cc8ccf3a313ab06$var$firstPlay","$0cc8ccf3a313ab06$export$246e658b67178cb0","totalCells","fireVolume","deadCells","cell","count","$0cc8ccf3a313ab06$var$countDeadCells","volume","$0cc8ccf3a313ab06$var$firstPlayAdjust","$efff50eca450a049$var$getCell","row","col","theCell","xCoord","yCoord","$efff50eca450a049$export$5b3a99d9c5ab85dd","iteratorFunc","$efff50eca450a049$var$getNextState","neighborhood","neighborIds","j","neighborId","push","$efff50eca450a049$var$getNeighborhood","liveNeighbors","map","forEach","neighbor","classList","contains","$efff50eca450a049$var$countLiveNeighbors","status","$efff50eca450a049$var$getBloom","idx","Math","floor","random","$efff50eca450a049$export$5a8b80f35baeb72c","nextBoardState","cellId","hasOwnProperty","nextCellState","className","querySelector","src","$efff50eca450a049$export$35d34bc0ed591a92","assign","$3380fd85d2cc30b2$export$5d1503cad977414a","clearInterval","innerHTML","setInterval","$3380fd85d2cc30b2$export$5930ab9ed0379f1c","$3380fd85d2cc30b2$var$soundOn","$35da740d59af89ba$var$createButtonEvents","addEventListener","pause","play","board","createElement","appendChild","img","$35da740d59af89ba$var$createAndShowBoard"],"version":3,"file":"index.87163423.js.map"}