{"version":3,"sources":["webpack:///webpack/bootstrap ed60cf2ede816430ecbf","webpack:///./browser/constants.js","webpack:///./browser/buttonEvents.js","webpack:///./browser/board.js","webpack:///./browser/game.js","webpack:///./browser/soundUtils.js"],"names":["main","document","getElementById","canvas","audio","fireAudio","playButton","clearButton","soundButton","blooms","boardState","width","height","interval","cells","playing","togglePlay","nextBoardState","Object","assign","forEachCell","cell","row","col","Math","floor","random","setNextState","innerHTML","setInterval","clearInterval","clearBoard","soundOn","toggleSound","pause","className","play","createButtonEvents","addEventListener","createAndShowBoard","board","createElement","appendChild","i","j","id","volume","getCell","theCell","xCoord","yCoord","iteratorFunc","getNeighborhood","neighborIds","neighborId","push","countLiveNeighbors","liveNeighbors","map","forEach","neighbor","classList","contains","getNextState","neighborhood","status","getBloom","idx","cellId","hasOwnProperty","nextCellState","add","setVolume","step","adjustCountForVolume","count","countDeadCells","deadCells","totalCells","fireVolume"],"mappings":"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","file":"./public/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ed60cf2ede816430ecbf","// -- DOM Elements --\nexport const main = document.getElementById('main');\nexport const canvas = document.getElementById('canvas');\nexport const audio = document.getElementById('audioPlayer');\nexport const fireAudio = document.getElementById('fireAudioPlayer');\n\n// -- Buttons --\nexport const playButton = document.getElementById('play');\nexport const clearButton = document.getElementById('clear');\nexport const soundButton = document.getElementById('sound');\n\n// -- Cell Background Images --\nexport const blooms = ['bloom1', 'bloom2', 'bloom3', 'bloom4', 'bloom5'];\n\n// -- Board Properties --\nexport const boardState = {\n\twidth: 20,\n\theight: 20,\n\tinterval: null,\n\tcells: {},\n\tplaying: false,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./browser/constants.js","import { audio, fireAudio, playButton, soundButton, boardState } from './constants';\nimport { forEachCell, setNextState, step } from './game';\n// import { setVolume } from './soundUtils';\n\n// Start game play\nexport const togglePlay = () => {\n\tif (!boardState.playing) {\n\t\tlet nextBoardState = Object.assign({}, boardState.cells)\n\n\t\tforEachCell((cell, row, col) => {\n\t\t\tif (Math.floor((row + col) * Math.random()) % 5 === 0) {\n\t\t\t\tnextBoardState[`${col}-${row}`] = 'alive'\n\t\t\t}\n\t\t})\n\t\tsetNextState(nextBoardState)\n\n\t\tplayButton.innerHTML = 'Pause'\n\t\tboardState.playing = true;\n\t\tboardState.interval = setInterval(step, 2100)\n\t} else {\n\t\tclearInterval(boardState.interval);\n\t\tboardState.interval = null;\n\t\tplayButton.innerHTML = 'Play'\n\t\tboardState.playing = false;\n\t}\n};\n\n// Clear board\nexport const clearBoard = () => {\n\tlet nextBoardState = Object.assign({}, boardState.cells);\n\n\tforEachCell((cell, row, col) => {\n\t\tnextBoardState[`${col}-${row}`] = 'dormant'\n\t});\n\n\tsetNextState(nextBoardState);\n\tclearInterval(boardState.interval)\n\tboardState.interval = null;\n\tboardState.playing = false;\n\tplayButton.innerHTML = 'Play'\n};\n\n// Audio fade\n/*\nconst soundFadeOut = (elem) => {\n\tlet fadeOut = setInterval(() => {\n\t\tconsole.log('volume out ', elem.volume)\n\t\twhile (elem.volume > 0.1) {\n\t\t\telem.volume -= 0.1;\n\t\t}\n\t\tif (elem.volume === 0.0) {\n\t\t\tclearInterval(fadeOut)\n\t\t}\n\t})\n}\n\nconst soundFadeIn = (elem) => {\n\t// console.log(elem)\n\tlet fadeIn = setInterval(() => {\n\t\twhile (elem.volume < 1) {\n\t\t\tconsole.log('volume', elem.volume)\n\t\t\telem.volume += 0.1;\n\t\t}\n\t\tif (elem.volume === 1 ) {\n\t\t\tclearInterval(fadeIn)\n\t\t}\n\t})\n\n}\n*/\n\n// Toggle Audio\nlet soundOn = true;\nexport const toggleSound = () => {\n\tif (soundOn) {\n\t\taudio.pause();\n\t\tfireAudio.pause();\n\t\tsoundButton.className = 'line-through';\n\t\tsoundOn = false;\n\t} else {\n\t\t// soundFadeIn(audio);\n\t\taudio.play();\n\t\tfireAudio.play();\n\t\tsoundButton.className = null;\n\t\tsoundOn = true;\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./browser/buttonEvents.js","import { main, fireAudio, playButton, clearButton, soundButton, boardState } from './constants';\nimport { togglePlay, clearBoard, toggleSound } from './buttonEvents.js'\n\n// -- Buttons --\nconst createButtonEvents = () => {\n\n\tplayButton.addEventListener('click', () => togglePlay());\n\n\tclearButton.addEventListener('click', () => clearBoard());\n\n\tsoundButton.innerHTML = 'Sound';\n\tsoundButton.addEventListener('click', () => toggleSound());\n}\n\n\n// -- Initital Board Set-Up --\nconst createAndShowBoard = () => {\n\tconst board = document.createElement('tbody');\n\tmain.appendChild(board);\n\n\tfor (let i = 0; i < boardState.width; i++) {\n\t\tlet row = document.createElement('tr');\n\t\tboard.appendChild(row);\n\n\t\tfor (let j = 0; j < boardState.height; j++) {\n\t\t\tboardState.cells[`${i}-${j}`] = 'dormant'\n\t\t\tlet cell = document.createElement('td');\n\t\t\tcell.id = `${i}-${j}`\n\t\t\tcell.className = 'dormant'\n\t\t\trow.appendChild(cell);\n\t\t}\n\t}\n\t// set initial fire volume to zero before game play\n\tfireAudio.volume = 0;\n\tcreateButtonEvents()\n}\n\ncreateAndShowBoard();\n\n// set each cell to a volume level audio.volume=number btw 0.0 and 1.0\n// make the volume a number relative to the person's chosen number{?}\n// i wonder if there could be spatialization of the sound.... \n// each cell is a PannerNode that is turned on or off depending on the cell status\n\n\n\n\n// WEBPACK FOOTER //\n// ./browser/board.js","import { blooms, boardState } from './constants';\nimport { setVolume } from './soundUtils';\n\n// Get individual cell from document\nconst getCell = (row, col) => {\n\tlet theCell = document.getElementById(`${col}-${row}`);\n\tif (!theCell) return null\n\ttheCell.xCoord = col;\n\ttheCell.yCoord = row;\n\treturn theCell\n};\n\n// Execute iterator function on each cell\nexport const forEachCell = (iteratorFunc) => {\n\tfor (let col = 0; col < boardState.width; col++) {\n\t\tfor (let row = 0; row < boardState.height; row++) {\n\t\t\tlet theCell = getCell(row, col)\n\t\t\titeratorFunc(theCell, row, col)\n\t\t}\n\t}\n};\n\n// Get neighboring cells for a single cell\nconst getNeighborhood = (cell, row, col) => {\n\tlet neighborIds = [];\n\tfor (let i = col - 1; i <= col + 1; i++) {\n\t\tfor (let j = row - 1; j <= row + 1; j++) {\n\t\t\tif (i !== col || j !== row) {\n\t\t\t\tif (i > -1 && j > -1) {\n\t\t\t\t\tlet neighborId = i + '-' + j;\n\t\t\t\t\tif (neighborId) neighborIds.push(neighborId)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn neighborIds;\n};\n\n// Get number of living neighbors for a single cell\nconst countLiveNeighbors = (neighborIds) => {\n\tlet liveNeighbors = 0\n\tneighborIds.map(id => {\n\t\treturn document.getElementById(id)\n\t}).forEach(neighbor => {\n\t\tif (neighbor && neighbor.classList.contains('alive')) {\n\t\t\tliveNeighbors++\n\t\t}\n\t})\n\treturn liveNeighbors;\n};\n\n// Determine next state for a single cell, based on numbr of live neighbors\nconst getNextState = (cell, row, col) => {\n\tlet neighborhood = getNeighborhood(cell, row, col);\n\n\tlet liveNeighbors = countLiveNeighbors(neighborhood);\n\n\tlet status = cell.classList;\n\n\tif (status.contains('alive')) {\n\t\tif (liveNeighbors < 2 || liveNeighbors > 3) return 'dead';\n\t\telse return status\n\t} else {\n\t\tif (liveNeighbors === 3) return 'alive';\n\t\telse return 'dormant'\n\t}\n};\n\n// Set new bloom gif for each live cell\nconst getBloom = () => {\n\tlet idx = Math.floor(Math.random() * 5)\n\treturn blooms[idx]\n}\n\n// Set next state for the entire board\nexport const setNextState = (nextBoardState) => {\n\tfor (let cellId in nextBoardState) {\n\t\tif (nextBoardState.hasOwnProperty(cellId)) {\n\t\t\tlet nextCellState = nextBoardState[cellId]\n\t\t\tboardState.cells[cellId] = nextCellState\n\t\t\tlet cell = document.getElementById(cellId)\n\t\t\tcell.className = nextCellState\n\t\t\tif (cell.className === 'alive') cell.classList.add(getBloom());\n\t\t}\n\t}\n\tsetVolume()\n};\n\n// Step is a single iteration of the game\nexport const step = () => {\n\tlet nextBoardState = Object.assign({}, boardState.cells)\n\tforEachCell((cell, row, col) => {\n\t\tnextBoardState[`${col}-${row}`] = getNextState(cell, row, col)\n\t})\n\n\tsetNextState(nextBoardState);\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./browser/game.js","import { audio, fireAudio, boardState } from './constants';\n\n// volume adjustment to make fireAudio louder\nconst adjustCountForVolume = (count) => {\n\tif (count === 0) return count\n\telse return count += 70\n}\n\n// count dead cells\nconst countDeadCells = () => {\n\tlet deadCells = 0;\n\tlet cells = boardState.cells\n\tfor (var cell in cells) {\n\t\tif (cells[cell] === 'dead') {\n\t\t\tdeadCells++\n\t\t}\n\t}\n\treturn adjustCountForVolume(deadCells)\n}\n\nexport const setVolume = () => {\n\tconst totalCells = boardState.width * boardState.height;\n\tlet deadCells = countDeadCells()\n\tlet fireVolume = deadCells / totalCells\n\tfireAudio.volume = fireVolume\n\taudio.volume = 1 - fireVolume\n}\n\n\n\n// WEBPACK FOOTER //\n// ./browser/soundUtils.js"],"sourceRoot":""}